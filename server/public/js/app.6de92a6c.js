(function(){"use strict";var e={354:function(e,t,r){var s=r(144),a=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},o=[],i={name:"App"},n=i,u=r(1),c=(0,u.Z)(n,a,o,!1,null,null,null),d=c.exports,l=r(345),p=function(){var e=this,t=e._self._c;return t("div",[t("Navbar"),t("Search"),t("div",{staticClass:"main"},e._l(e.products,(function(e){return t("div",{key:e.id},[t("Item",{attrs:{title:e.title,price:e.price,productImage:e.productImage,productId:e.id,username:e.username}})],1)})),0)],1)},m=[],v=function(){var e=this,t=e._self._c;return t("nav",{staticClass:"navbar"},[e._m(0),t("div",{staticClass:"flex"},[e.$store.state.isUserLoggedIn?t("div",[t("Sidebar")],1):e._e(),t("router-link",{attrs:{to:"/"}},[t("h1",{attrs:{id:"logo"}},[e._v("AuctionHouse")])])],1),e.$store.state.isUserLoggedIn?t("div",{staticClass:"logout",on:{click:e.logout}},[e._v(" Logout ")]):e._e(),e.$store.state.isUserLoggedIn?e._e():t("div",{staticClass:"userPanel"},[t("router-link",{staticClass:"userSetting",attrs:{to:"/login"}},[e._v("Login")]),t("router-link",{staticClass:"userSetting",attrs:{to:"/register"}},[e._v("Register")])],1)])},h=[function(){var e=this,t=e._self._c;return t("head",[t("link",{attrs:{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"}})])}],g=function(){var e=this,t=e._self._c;return t("div",[t("button",{staticClass:"openbtn",on:{click:e.openNav}},[e._v("☰")]),t("div",{staticClass:"sidebar",attrs:{id:"mySidebar"}},[t("h1",[e._v("AuctionHouse")]),t("a",{staticClass:"closebtn",attrs:{href:"javascript:void(0)"},on:{click:e.closeNav}},[e._v("×")]),t("router-link",{attrs:{to:"/Create"}},[e._v("Create New Auction")]),t("router-link",{attrs:{to:{name:"users",params:{username:this.$store.state.user.username}}}},[e._v("My Auctions")]),t("router-link",{attrs:{to:"/Favorites"}},[e._v("Favourites")]),t("a",{attrs:{href:"https://github.com/KamilSpyrka/AuctionHouse",target:"_blank"}},[e._v("Github page of project")])],1)])},f=[],_={name:"SideBar",data(){return{}},methods:{openNav(){document.getElementById("mySidebar").style.width="250px"},closeNav(){document.getElementById("mySidebar").style.width="0"}}},b=_,w=(0,u.Z)(b,g,f,!1,null,"3f6c256a",null),y=w.exports,I={name:"NavBar",data(){return{}},components:{Sidebar:y},methods:{logout(){this.$store.dispatch("setToken",null),this.$store.dispatch("setUser",null),this.$router.push({name:"Login"})}}},C=I,x=(0,u.Z)(C,v,h,!1,null,"20628373",null),$=x.exports,k=function(){var e=this,t=e._self._c;return t("div",{staticClass:"item"},[t("div",{staticClass:"itemPhoto",on:{click:function(t){return e.navigateTo({name:"product",params:{productId:e.productId}})}}},[t("img",{attrs:{src:e.productImage}}),t("h3",[e._v(e._s(e.title))])]),t("a",{on:{click:function(t){return e.navigateTo({name:"users",params:{username:e.username}})}}},[e._v(" "+e._s(e.username)+" ")]),t("h4",[e._v(e._s(e.price)+" zł")])])},P=[],L={name:"AuctionItem",data(){return{}},props:["title","price","productImage","productId","username"],methods:{navigateTo(e){this.$router.push(e)}}},N=L,U=(0,u.Z)(N,k,P,!1,null,"21fe50aa",null),q=U.exports,Z=r(669),F=r.n(Z),S=r(629),A=r(702);s.ZP.use(S.ZP);var T=new S.ZP.Store({strict:!0,plugins:[(0,A.Z)()],state:{token:null,user:null,isUserLoggedIn:!1},mutations:{setToken(e,t){e.token=t,e.isUserLoggedIn=!!t},setUser(e,t){e.user=t}},actions:{setToken({commit:e},t){e("setToken",t)},setUser({commit:e},t){e("setUser",t)}}}),O=()=>F().create({baseURL:"",headers:{Auth:`Bearer ${T.state.token}`}}),E={getProducts(e){return O().get("products",{params:{search:e}})},createProduct(e){return O().post("products",e)},show(e){return O().get(`products/${e}`)},put(e){return O().put(`products/${e.id}`,e)},deleteProduct(e){return O().delete(`products/${e}`)}},R=function(){var e=this,t=e._self._c;return t("div",{staticClass:"searchPanel"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"btn",attrs:{type:"text",id:"search",name:"search",placeholder:"Search for items title, description or sellers username",maxlength:"50"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}})])},j=[],B=r(486),D=r.n(B),z={name:"SearchBar",data(){return{search:""}},watch:{search:D().debounce((async function(e){const t={name:"products"};""!==this.search&&(t.query={search:this.search}),this.$router.push(t)}),300),"$route.query.search":{immediate:!0,handler(e){this.search=e}}}},H=z,M=(0,u.Z)(H,R,j,!1,null,"aaed4c46",null),G=M.exports,Y={name:"AllAuctions",data(){return{products:[{}]}},components:{Item:q,Navbar:$,Search:G},computed:{...(0,S.rn)(["isUserLoggedIn","user"])},mounted(){this.isUserLoggedIn||this.$router.push({name:"Login"})},watch:{"$route.query.search":{immediate:!0,async handler(e){this.products=(await E.getProducts(e)).data}}}},K=Y,V=(0,u.Z)(K,p,m,!1,null,"cb468862",null),J=V.exports,Q=function(){var e=this,t=e._self._c;return t("div",[t("Navbar"),t("section",{staticClass:"container"},[e.error?t("span",{staticClass:"error"},[e._v(e._s(e.error))]):e._e(),t("div",{staticClass:"box"},[t("p",[e._v("Register")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"btn",attrs:{type:"text",id:"username",name:"username",placeholder:"Username",required:""},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"btn",attrs:{type:"text",id:"email",name:"email",placeholder:"email",required:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"btn",attrs:{type:"password",id:"password",name:"password",placeholder:"Password",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),t("input",{staticClass:"send",attrs:{type:"submit",name:"Send",value:"Sign up"},on:{click:e.register}}),t("router-link",{attrs:{to:"login"}},[e._v("Login here ")])],1)])],1)},W=[],X={register(e){return O().post("register",e)},login(e){return O().post("login",e)}},ee={name:"RegisterUser",data(){return{username:"",email:"",password:"",error:null}},components:{Navbar:$},methods:{async register(){try{const e=await X.register({username:this.username,email:this.email,password:this.password});this.$store.dispatch("setToken",e.data.token),this.$store.dispatch("setUser",e.data.user),this.$router.push({name:"products"})}catch(e){this.error=e.response.data.error}}}},te=ee,re=(0,u.Z)(te,Q,W,!1,null,"c843750c",null),se=re.exports,ae=function(){var e=this,t=e._self._c;return t("div",[t("Navbar"),t("section",{staticClass:"container"},[e.error?t("span",{staticClass:"error"},[e._v(e._s(e.error))]):e._e(),t("div",{staticClass:"box"},[t("p",[e._v("Sign in")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"btn",attrs:{type:"text",id:"username",name:"username",placeholder:"Username",required:""},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"btn",attrs:{type:"password",id:"password",name:"password",placeholder:"Password",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),t("input",{staticClass:"send",attrs:{type:"submit",name:"Send",value:"Sign in"},on:{click:e.login}}),t("router-link",{attrs:{to:"register"}},[e._v("Register here ")])],1)])],1)},oe=[],ie={name:"LoginUser",data(){return{username:"",password:"",error:null}},components:{Navbar:$},methods:{async login(){try{const e=await X.login({username:this.username,password:this.password});this.$store.dispatch("setToken",e.data.token),this.$store.dispatch("setUser",e.data.user),this.$router.push({name:"products"})}catch(e){this.error=e.response.data.error}}}},ne=ie,ue=(0,u.Z)(ne,ae,oe,!1,null,"600b1b6e",null),ce=ue.exports,de=function(){var e=this,t=e._self._c;return t("div",[t("Navbar"),t("section",{staticClass:"container"},[e.error?t("span",{staticClass:"error"},[e._v(e._s(e.error))]):e._e(),t("div",{staticClass:"box"},[t("p",[e._v("Create New Auction")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.product.title,expression:"product.title"}],staticClass:"btn",attrs:{type:"text",id:"title",name:"title",placeholder:"Title",maxlength:"50",required:"",rules:e.required},domProps:{value:e.product.title},on:{input:function(t){t.target.composing||e.$set(e.product,"title",t.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.product.productImage,expression:"product.productImage"}],staticClass:"btn",attrs:{type:"text",id:"productImage",name:"productImage",placeholder:"Image URL adress",required:"",rules:e.required},domProps:{value:e.product.productImage},on:{input:function(t){t.target.composing||e.$set(e.product,"productImage",t.target.value)}}}),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.product.description,expression:"product.description"}],staticClass:"btn",attrs:{id:"description",name:"description",placeholder:"Description",required:"",rules:e.required},domProps:{value:e.product.description},on:{input:function(t){t.target.composing||e.$set(e.product,"description",t.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.product.price,expression:"product.price"}],staticClass:"btn",attrs:{type:"number",id:"price",name:"price",placeholder:"Price",maxlength:"6",required:"",rules:e.required},domProps:{value:e.product.price},on:{input:function(t){t.target.composing||e.$set(e.product,"price",t.target.value)}}}),t("input",{staticClass:"send",attrs:{type:"submit",name:"create",value:"Create Auction"},on:{click:e.create}})])])],1)},le=[],pe={name:"CreateAuction",data(){return{product:{title:null,price:null,productImage:null,description:null,contactEmail:null,username:null},error:null,required:e=>!!e||"Required."}},components:{Navbar:$},computed:{...(0,S.rn)(["isUserLoggedIn","user"])},mounted(){this.isUserLoggedIn||this.$router.push({name:"Login"})},methods:{async create(){this.product.contactEmail=this.user.email,this.product.username=this.user.username;const e=Object.keys(this.product).every((e=>!!this.product[e]));if(e)try{await E.createProduct(this.product),this.$router.push({name:"products"})}catch(t){console.log(t)}else this.error="You need to fill in all required fields"}}},me=pe,ve=(0,u.Z)(me,de,le,!1,null,"940353f4",null),he=ve.exports,ge=function(){var e=this,t=e._self._c;return t("div",[t("Navbar"),t("section",{staticClass:"container"},[e.error?t("span",{staticClass:"error"},[e._v(e._s(e.error))]):e._e(),t("div",{staticClass:"box"},[t("p",[e._v("Edit Auction")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.product.title,expression:"product.title"}],staticClass:"btn",attrs:{type:"text",id:"title",name:"title",placeholder:"Title",maxlength:"50",required:"",rules:e.required},domProps:{value:e.product.title},on:{input:function(t){t.target.composing||e.$set(e.product,"title",t.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.product.productImage,expression:"product.productImage"}],staticClass:"btn",attrs:{type:"text",id:"productImage",name:"productImage",placeholder:"Image URL adress",required:"",rules:e.required},domProps:{value:e.product.productImage},on:{input:function(t){t.target.composing||e.$set(e.product,"productImage",t.target.value)}}}),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.product.description,expression:"product.description"}],staticClass:"btn",attrs:{id:"description",name:"description",placeholder:"Description",required:"",rules:e.required},domProps:{value:e.product.description},on:{input:function(t){t.target.composing||e.$set(e.product,"description",t.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.product.price,expression:"product.price"}],staticClass:"btn",attrs:{type:"number",id:"price",name:"price",placeholder:"Price",maxlength:"6",required:"",rules:e.required},domProps:{value:e.product.price},on:{input:function(t){t.target.composing||e.$set(e.product,"price",t.target.value)}}}),t("input",{staticClass:"send",attrs:{type:"submit",name:"create",value:"Edit Auction"},on:{click:e.save}})])])],1)},fe=[],_e={name:"EditAuction",data(){return{product:{title:null,price:null,productImage:null,description:null,contactEmail:null,username:null},error:null,required:e=>!!e||"Required."}},computed:{...(0,S.rn)(["isUserLoggedIn"])},components:{Navbar:$},methods:{async save(){if(this.$store.state.user.username!=this.product.username)return void this.$router.push({name:"Login"});const e=Object.keys(this.product).every((e=>!!this.product[e]));if(e)try{await E.put(this.product),this.$router.push({name:"products"})}catch(t){console.log(t)}else this.error="You need to fill in all required fields"}},async mounted(){if(this.isUserLoggedIn)try{const e=this.$route.params.productId;this.product=(await E.show(e)).data}catch(e){console.log(e)}else this.$router.push({name:"Login"})}},be=_e,we=(0,u.Z)(be,ge,fe,!1,null,"878c92c6",null),ye=we.exports,Ie=function(){var e=this,t=e._self._c;return t("div",[t("Navbar"),t("div",{staticClass:"main"},e._l(e.products,(function(e){return t("div",{key:e.id},[t("Item",{attrs:{title:e.title,price:e.price,productImage:e.productImage,productId:e.id}})],1)})),0)],1)},Ce=[],xe={name:"UsersAuction",data(){return{products:[]}},components:{Item:q,Navbar:$},computed:{...(0,S.rn)(["isUserLoggedIn","user"])},async mounted(){if(this.isUserLoggedIn){if(this.isUserLoggedIn){const e=this.$route.params.username;this.products=(await E.getProducts(e)).data}}else this.$router.push({name:"Login"})}},$e=xe,ke=(0,u.Z)($e,Ie,Ce,!1,null,"5dd2f62f",null),Pe=ke.exports,Le=function(){var e=this,t=e._self._c;return t("div",[t("Navbar"),t("div",{staticClass:"product"},[t("div",{staticClass:"title"},[t("h1",[e._v(e._s(e.product.title))]),t("div",{staticClass:"setting"},[t("div",[t("span",{staticClass:"icon",on:{click:function(t){return e.navigateTo({name:"users",params:{username:e.product.username}})}}},[e._v(" "+e._s(e.product.username)+" ")])]),this.favorite?e._e():t("span",{staticClass:"material-symbols-outlined notFavorite",on:{click:e.addFavorite}},[e._v(" favorite ")]),this.favorite?t("span",{staticClass:"material-symbols-outlined favorite",on:{click:e.deleteFavorite}},[e._v(" favorite ")]):e._e(),this.$store.state.user.username==this.product.username?t("span",{staticClass:"material-symbols-outlined icon",on:{click:function(t){return e.navigateTo({name:"edit",params:{productId:e.product.id}})}}},[e._v(" edit ")]):e._e(),this.$store.state.user.username==this.product.username?t("span",{staticClass:"material-symbols-outlined icon delete",on:{click:e.deleteProduct}},[e._v(" delete ")]):e._e()])]),t("div",{staticClass:"details"},[t("img",{attrs:{src:e.product.productImage}}),t("div",{staticClass:"priceDescription"},[t("p",{staticClass:"description"},[e._v(e._s(e.product.description))]),t("div",{staticClass:"bottom"},[t("p",{staticClass:"contact"},[e._v("Contact: "+e._s(e.product.contactEmail))]),t("p",{staticClass:"el"},[e._v(e._s(e.product.price)+" zł")])])])])])],1)},Ne=[],Ue={getFavorites(e){return O().get("favorites",{params:e})},addToFavorites(e){return O().post("favorites",{params:e})},deleteFromFavorites(e){return O().delete(`favorites/${e}`)}},qe={name:"ViewProduct",components:{Navbar:$},data(){return{product:{},favorite:null}},computed:{...(0,S.rn)(["isUserLoggedIn"])},async mounted(){if(!this.isUserLoggedIn)return void this.$router.push({name:"Login"});const e=this.$route.params.productId;this.product=(await E.show(e)).data;try{const t=(await Ue.getFavorites({productId:e,userId:this.$store.state.user.id})).data;t.length&&(this.favorite=t[0])}catch(t){console.log(t)}},methods:{navigateTo(e){this.$router.push(e)},async deleteProduct(){try{await E.deleteProduct(this.product.id),this.$router.push({name:"products"})}catch(e){console.log(e)}},async addFavorite(){try{this.favorite=(await Ue.addToFavorites({productId:this.$route.params.productId,userId:this.$store.state.user.id})).data}catch(e){console.log(e)}},async deleteFavorite(){try{await Ue.deleteFromFavorites(this.favorite.id),this.favorite=null}catch(e){console.log(e)}}}},Ze=qe,Fe=(0,u.Z)(Ze,Le,Ne,!1,null,"491e129e",null),Se=Fe.exports,Ae=function(){var e=this,t=e._self._c;return t("div",[t("Navbar"),t("div",{staticClass:"main"},e._l(e.products,(function(e){return t("div",{key:e.id},[t("Item",{attrs:{title:e.title,price:e.price,productImage:e.productImage,productId:e.id}})],1)})),0)],1)},Te=[],Oe={name:"AllFavorites",data(){return{products:[],favorites:[]}},components:{Item:q,Navbar:$},computed:{...(0,S.rn)(["isUserLoggedIn","user"])},async mounted(){this.isUserLoggedIn?this.isUserLoggedIn&&(this.favorites=(await Ue.getFavorites({userId:this.user.id})).data,this.favorites.forEach((e=>{this.products.push(e.Product)}))):this.$router.push({name:"Login"})}},Ee=Oe,Re=(0,u.Z)(Ee,Ae,Te,!1,null,"55a71245",null),je=Re.exports;s.ZP.use(l.Z);var Be=new l.Z({routes:[{path:"/register",name:"Register",component:se},{path:"/login",name:"Login",component:ce},{path:"/create",name:"Create",component:he},{path:"/favorites",name:"Favorites",component:je},{path:"/products",name:"products",component:J},{path:"/products/:productId",name:"product",component:Se},{path:"/products/:productId/edit",name:"edit",component:ye},{path:"/users/:username",name:"users",component:Pe},{path:"*",redirect:"products"}]});s.ZP.config.productionTip=!1,new s.ZP({router:Be,store:T,render:e=>e(d)}).$mount("#app")}},t={};function r(s){var a=t[s];if(void 0!==a)return a.exports;var o=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.m=e,function(){var e=[];r.O=function(t,s,a,o){if(!s){var i=1/0;for(d=0;d<e.length;d++){s=e[d][0],a=e[d][1],o=e[d][2];for(var n=!0,u=0;u<s.length;u++)(!1&o||i>=o)&&Object.keys(r.O).every((function(e){return r.O[e](s[u])}))?s.splice(u--,1):(n=!1,o<i&&(i=o));if(n){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[s,a,o]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,s){var a,o,i=s[0],n=s[1],u=s[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(a in n)r.o(n,a)&&(r.m[a]=n[a]);if(u)var d=u(r)}for(t&&t(s);c<i.length;c++)o=i[c],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(d)},s=self["webpackChunkclient"]=self["webpackChunkclient"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=r.O(void 0,[998],(function(){return r(354)}));s=r.O(s)})();
//# sourceMappingURL=app.6de92a6c.js.map